<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>1.1 Simple Random Sampling | Declaring and Diagnosing Research Designs</title>
  <meta name="description" content="Declaring and diagnosing research designs in the model, inquiry, data strategy, analysis strategy (MIDA) framework">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="1.1 Simple Random Sampling | Declaring and Diagnosing Research Designs" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Declaring and diagnosing research designs in the model, inquiry, data strategy, analysis strategy (MIDA) framework" />
  <meta name="github-repo" content="rstudio/rdb" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1.1 Simple Random Sampling | Declaring and Diagnosing Research Designs" />
  
  <meta name="twitter:description" content="Declaring and diagnosing research designs in the model, inquiry, data strategy, analysis strategy (MIDA) framework" />
  

<meta name="author" content="Graeme Blair, Jasper Cooper, Alexander Coppock, Macartan Humphreys">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="observational-designs-for-descriptive-inference.html">
<link rel="next" href="observational-designs-for-causal-inference.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="https://hypothes.is/embed.js" async></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Declaring and Diagnosing Research Designs</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>What we are at</a></li>
<li class="part"><span><b>I Declaring and Diagnosing Research Designs</b></span></li>
<li class="part"><span><b>II Design Library</b></span></li>
<li class="chapter" data-level="1" data-path="observational-designs-for-descriptive-inference.html"><a href="observational-designs-for-descriptive-inference.html"><i class="fa fa-check"></i><b>1</b> Observational designs for descriptive inference</a><ul>
<li class="chapter" data-level="1.1" data-path="simple-random-sampling.html"><a href="simple-random-sampling.html"><i class="fa fa-check"></i><b>1.1</b> Simple Random Sampling</a><ul>
<li class="chapter" data-level="1.1.1" data-path="simple-random-sampling.html"><a href="simple-random-sampling.html#design-declaration"><i class="fa fa-check"></i><b>1.1.1</b> Design Declaration</a></li>
<li class="chapter" data-level="1.1.2" data-path="simple-random-sampling.html"><a href="simple-random-sampling.html#takeaways"><i class="fa fa-check"></i><b>1.1.2</b> Takeaways</a></li>
<li class="chapter" data-level="1.1.3" data-path="simple-random-sampling.html"><a href="simple-random-sampling.html#exercises"><i class="fa fa-check"></i><b>1.1.3</b> Exercises</a></li>
<li class="chapter" data-level="1.1.4" data-path="simple-random-sampling.html"><a href="simple-random-sampling.html#design-inspector"><i class="fa fa-check"></i><b>1.1.4</b> Design Inspector</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="observational-designs-for-causal-inference.html"><a href="observational-designs-for-causal-inference.html"><i class="fa fa-check"></i><b>2</b> Observational designs for causal inference</a><ul>
<li class="chapter" data-level="2.1" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html"><i class="fa fa-check"></i><b>2.1</b> Regression Discontinuity</a><ul>
<li class="chapter" data-level="2.1.1" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#design-declaration-1"><i class="fa fa-check"></i><b>2.1.1</b> Design Declaration</a></li>
<li class="chapter" data-level="2.1.2" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#takeaways-1"><i class="fa fa-check"></i><b>2.1.2</b> Takeaways</a></li>
<li class="chapter" data-level="2.1.3" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#further-reading"><i class="fa fa-check"></i><b>2.1.3</b> Further Reading</a></li>
<li class="chapter" data-level="2.1.4" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#exercises-1"><i class="fa fa-check"></i><b>2.1.4</b> Exercises</a></li>
<li class="chapter" data-level="2.1.5" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#design-inspector-1"><i class="fa fa-check"></i><b>2.1.5</b> Design Inspector</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Principles of Research Designs</b></span></li>
<li class="chapter" data-level="3" data-path="inquiry-principles.html"><a href="inquiry-principles.html"><i class="fa fa-check"></i><b>3</b> Inquiry principles</a><ul>
<li class="chapter" data-level="3.1" data-path="some-designs-have-badly-posed-questions-but-design-diagnosis-can-alert-you-to-the-problem.html"><a href="some-designs-have-badly-posed-questions-but-design-diagnosis-can-alert-you-to-the-problem.html"><i class="fa fa-check"></i><b>3.1</b> Some designs have badly posed questions but design diagnosis can alert you to the problem</a><ul>
<li class="chapter" data-level="3.1.1" data-path="some-designs-have-badly-posed-questions-but-design-diagnosis-can-alert-you-to-the-problem.html"><a href="some-designs-have-badly-posed-questions-but-design-diagnosis-can-alert-you-to-the-problem.html#a-design-with-sometimes-undefined-outcomes"><i class="fa fa-check"></i><b>3.1.1</b> A design with sometimes undefined outcomes</a></li>
<li class="chapter" data-level="3.1.2" data-path="some-designs-have-badly-posed-questions-but-design-diagnosis-can-alert-you-to-the-problem.html"><a href="some-designs-have-badly-posed-questions-but-design-diagnosis-can-alert-you-to-the-problem.html#what-we-find-from-diagnosis"><i class="fa fa-check"></i><b>3.1.2</b> What we find from diagnosis</a></li>
<li class="chapter" data-level="3.1.3" data-path="some-designs-have-badly-posed-questions-but-design-diagnosis-can-alert-you-to-the-problem.html"><a href="some-designs-have-badly-posed-questions-but-design-diagnosis-can-alert-you-to-the-problem.html#other-instances-of-this-problem"><i class="fa fa-check"></i><b>3.1.3</b> Other instances of this problem</a></li>
<li class="chapter" data-level="3.1.4" data-path="some-designs-have-badly-posed-questions-but-design-diagnosis-can-alert-you-to-the-problem.html"><a href="some-designs-have-badly-posed-questions-but-design-diagnosis-can-alert-you-to-the-problem.html#keep-thinking"><i class="fa fa-check"></i><b>3.1.4</b> Keep thinking</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Putting Declared Designs to Use</b></span></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://declaredesign.org" target="blank">DeclareDesign</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Declaring and Diagnosing Research Designs</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="simple-random-sampling" class="section level2">
<h2><span class="header-section-number">1.1</span> Simple Random Sampling</h2>
<p>Often we are interested in features of a population, but data on the entire population is prohibitively expensive to collect. Instead, researchers obtain data on a small fraction of the population and use measurements taken on that sample to draw inferences about the population.</p>
<p>Imagine we seek to estimate the average political ideology of residents of the small town of Portola, California, on a left-right scale that varies from 1 (most liberal) to 7 (most conservative). We draw a simple random sample in which all residents have an equal chance of inclusion in the study. It’s a straightforward design but formally declaring it will make it easy to assess its properties.</p>
<div id="design-declaration" class="section level3">
<h3><span class="header-section-number">1.1.1</span> Design Declaration</h3>
<ul>
<li><p><strong>M</strong>odel:</p>
<p>Even for this most basic of designs, researchers bring to bear a background model of the world. As described in Chapter 1, the three elements of a model are the signature, probability distributions over variables, and functional equations among variables. The signature here is a specification of the variable of interest, <span class="math inline">\(Y\)</span>, with a well defined domain (seven possible values between 1 and 7). In the code declaration below, we assume a uniform distribution over these 7 values. This choice is a speculation about the population distribution of <span class="math inline">\(Y\)</span>; some features of the design diagnosis will depend on the choice of distribution. The functional equations seem absent here as there is only one variable in the model. We could consider an elaboration of the model that includes three variables: the true outcome, <span class="math inline">\(Y\)</span>; the decision to measure the outcome, <span class="math inline">\(M\)</span>; and the measured outcome, <span class="math inline">\(Y^M\)</span>. We ignore this complication for now under the assumption that <span class="math inline">\(Y = Y^M\)</span>, i.e., that <span class="math inline">\(Y\)</span> is measured perfectly. Finally, the model also includes information about the size of the population. Portola, California, has a population of approximately 2100 people as of 2010, so <span class="math inline">\(N = 2100\)</span>.</p></li>
<li><p><strong>I</strong>nquiry:</p>
<p>Our inquiry is the population mean of <span class="math inline">\(Y\)</span>: <span class="math inline">\(\frac{1}{N} \sum_1^N Y_i = \bar{Y}\)</span>.</p></li>
<li><p><strong>D</strong>ata strategy:</p>
<p>In simple random sampling, we draw a random sample without replacement of size <span class="math inline">\(n\)</span>, where every member of the population has an equal probability of inclusion in the sample, <span class="math inline">\(\frac{n}{N}\)</span>. When <span class="math inline">\(N\)</span> is very large relative to <span class="math inline">\(n\)</span>, units are drawn approximately independently. In this design we measure <span class="math inline">\(Y\)</span> for <span class="math inline">\(n=100\)</span> units in the sample; the other <span class="math inline">\(N-n\)</span> units are not measured.</p></li>
<li><p><strong>A</strong>nswer strategy:</p>
<p>We estimate the population mean with the sample mean estimator: <span class="math inline">\(\widehat{\overline{Y}} = \frac{1}{n} \sum_1^n Y_i\)</span>. Even though our inquiry implies our answer should be a single number, an answer strategy typically also provides statistics that help us assess the uncertainty around that single number. To construct a 95% confidence interval around our estimate, we calculate the standard error of the sample mean, then approximate the sampling distribution of the sample mean estimator using a formula that includes a finite population correction. In particular, we approximate the estimated sampling distribution by a <span class="math inline">\(t\)</span> distribution with <span class="math inline">\(n - 1\)</span> degrees of freedom. In the code for our answer strategy, we spell out each step in turn.</p></li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Model -------------------------------------------------------------------</span>
N &lt;-<span class="st"> </span><span class="dv">2100</span>
fixed_population &lt;-<span class="st"> </span><span class="kw">declare_population</span>(<span class="dt">N =</span> N, <span class="dt">Y =</span> <span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">7</span>, N, <span class="dt">replace =</span> <span class="ot">TRUE</span>))()
population &lt;-<span class="st"> </span><span class="kw">declare_population</span>(<span class="dt">data =</span> fixed_population)

<span class="co"># Inquiry -----------------------------------------------------------------</span>
estimand &lt;-<span class="st"> </span><span class="kw">declare_estimand</span>(<span class="dt">Ybar =</span> <span class="kw">mean</span>(Y))

<span class="co"># Data Strategy -----------------------------------------------------------</span>
n &lt;-<span class="st"> </span><span class="dv">100</span>
sampling &lt;-<span class="st"> </span><span class="kw">declare_sampling</span>(<span class="dt">n =</span> n)

<span class="co"># Answer Strategy ---------------------------------------------------------</span>
estimator &lt;-<span class="st"> </span><span class="kw">declare_estimator</span>(Y <span class="op">~</span><span class="st"> </span><span class="dv">1</span>,
                               <span class="dt">model =</span> lm_robust,
                                       <span class="dt">estimand =</span> estimand,
                                       <span class="dt">label =</span> <span class="st">&quot;Sample Mean Estimator&quot;</span>)

<span class="co"># Design ------------------------------------------------------------------</span>
design &lt;-<span class="st"> </span>population <span class="op">+</span><span class="st"> </span>estimand <span class="op">+</span><span class="st">  </span>sampling <span class="op">+</span><span class="st"> </span>estimator

diagnosands &lt;-<span class="st"> </span><span class="kw">declare_diagnosands</span>(<span class="dt">select =</span> <span class="kw">c</span>(bias, coverage, mean_estimate, sd_estimate))</code></pre>
</div>
<div id="takeaways" class="section level3">
<h3><span class="header-section-number">1.1.2</span> Takeaways</h3>
<p>With the design declared we can run a diagnosis and plot results from Monte Carlo simulations of the design:</p>
<pre class="sourceCode r"><code class="sourceCode r">diagnosis &lt;-<span class="st"> </span><span class="kw">diagnose_design</span>(
  design, <span class="dt">sims =</span> <span class="dv">10000</span>, <span class="dt">bootstrap_sims =</span> <span class="dv">1000</span>, <span class="dt">diagnosands =</span> diagnosands) </code></pre>
<!-- ```{r, echo=FALSE, eval = rerun_templates} -->
<!-- diagnosis <- diagnose_design(design, sims = sims, bootstrap = TRUE,bootstrap_sims = 1000, diagnosands = diagnosands) -->
<!-- diagnosis$diagnosands$mean_estimand <- mean(diagnosis$simulations$estimand) -->
<!-- saveRDS(diagnosis, file = "../examples_data/srs_diagnosis.rds") -->
<!-- saveRDS(design, file = "../examples_data/srs_design.rds") -->
<!-- ``` -->
<!-- ```{r, echo = FALSE} -->
<!-- diagnosis <- readRDS("../examples_data/srs_diagnosis.rds") -->
<!-- diagnosis_table <- get_diagnosands(diagnosis)[,c("mean_est","bias","se(bias)","coverage","se(coverage)")] -->
<!-- colnames(diagnosis_table) <- c("Mean Estimate","Bias","SE(Bias)","Coverage","SE(Coverage)") -->
<!-- kable(diagnosis_table, digit = 3) -->
<!-- ``` -->
<!-- ```{r, echo=FALSE, fig.height = 3.5} -->
<!-- local_sims <- get_simulations(diagnosis) %>%  -->
<!--   mutate(sim_order = fct_reorder(factor(sim_ID), x = (ci_lower + ci_upper)/2), -->
<!--          covers = as.numeric(ci_lower <= estimand & ci_upper >= estimand), -->
<!--          mean_estimand = mean(estimand)) -->
<!-- local_diagnosis <- get_diagnosands(diagnosis) -->
<!-- local_diagnosis$mean_estimand <- mean(local_sims$mean_estimand) -->
<!--       g1 <-  -->
<!--         local_sims %>% -->
<!--         ggplot(aes(est)) + -->
<!--         geom_histogram(bins = 50) + -->
<!--         geom_vline(data = local_diagnosis, aes(xintercept = mean_estimand),  -->
<!--                    color = "red", linetype = "dashed") + -->
<!--         dd_theme() + -->
<!--         theme(axis.text.y = element_blank(), -->
<!--               axis.title.y = element_blank(), -->
<!--               axis.ticks.y = element_blank(), -->
<!--               legend.position = "none",  -->
<!--               panel.grid.major = element_blank()) + -->
<!--         # coord_cartesian(xlim = c(3.5, 0.75)) + -->
<!--         xlab("Sample Mean Estimates")  -->
<!--       g2 <- -->
<!--         local_sims %>% -->
<!--         ggplot(aes(y = sim_order, x = est, color = covers)) + -->
<!--         geom_errorbarh(aes(xmin = ci_lower, xmax = ci_upper), height = 0) + -->
<!--         geom_vline(data = local_diagnosis, aes(xintercept = mean_estimand),  -->
<!--                    color = "red", linetype = "dashed") + -->
<!--         dd_theme() + -->
<!--         theme(axis.text.y = element_blank(), -->
<!--               axis.title.y = element_blank(), -->
<!--               axis.ticks.y = element_blank(), -->
<!--               legend.position = "none",  -->
<!--               panel.grid.major = element_blank()) + -->
<!--         # coord_cartesian(xlim = c(0.25, 0.75)) + -->
<!--         xlab("95% Confidence Intervals") -->
<!-- #if (knitr::opts_knit$get("rmarkdown.pandoc.to") != "html") { -->
<!--   #grid.arrange(g1, g2, ncol = 2) -->
<!-- #} -->
<!-- ``` -->
<p>The diagnosis indicates that under simple random sampling, the sample mean estimator of the population mean is unbiased. The graph on the left shows the sampling distribution of the estimator: it’s centered directly on the true value of the inquiry. Confidence intervals <strong>also</strong> have a sampling distribution – they change depending on the idiosyncrasies of each sample we happen to draw. The figure on the right shows that the 95% of the time the confidence intervals cover the true value of the estimand, as they should. As sample size grows, the sampling distribution of the estimator gets tighter, but the coverage of the confidence intervals stays at 95% – just the properties we would want out of our answer strategy.</p>
<p>Things work well here it seems. In the exercises we suggest some small modifications of the design that point to conditions under which things might break down.</p>
</div>
<div id="exercises" class="section level3">
<h3><span class="header-section-number">1.1.3</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li>Modify the declaration to change the distribution of <span class="math inline">\(Y\)</span> from being uniform to something else: perhaps imagine that more extreme ideologies are more prevalent than moderate ones. Is the sample mean estimator still unbiased? Interpret your answer.</li>
<li>Change the sampling procedure to favor units with higher values of ideology. Is the sample mean estimator still unbiased? Interpret your answer.</li>
<li>Modify the estimation function to use this formula for the standard error: <span class="math inline">\(\widehat{se} \equiv \frac{\widehat\sigma}{\sqrt{n}}\)</span>. This equation differs from the one used in our declaration (it ignores the total population size <span class="math inline">\(N\)</span>). Check that the coverage of this new design is incorrect when <span class="math inline">\(N=n\)</span>. Assess how large <span class="math inline">\(N\)</span> has to be for the difference between these procedures not to matter.</li>
</ol>
</div>
<div id="design-inspector" class="section level3">
<h3><span class="header-section-number">1.1.4</span> Design Inspector</h3>
<iframe src="https://graemeblair.shinyapps.io/inspect_design/?design=srs" style="border: none; width: 100%; height: 550px">
</iframe>
</div>
</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="observational-designs-for-descriptive-inference.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="observational-designs-for-causal-inference.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": false,
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": {},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
